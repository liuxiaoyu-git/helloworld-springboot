stages:  
 - test                        
 - build                         
 - deploy  
     
build_image:  
  stage : build
  image : docker:20.10.16
  services:
    - docker:20.10.16-dind
  before_script:
    - docker login -u $docker_user -p $docker_pass
  script : 
    - docker login registry.gitlab.com
    - docker build -t registry.gitlab.com/raja786/docker-hello-world-spring-boot .
    - docker push registry.gitlab.com/raja786/docker-hello-world-spring-boot
            

